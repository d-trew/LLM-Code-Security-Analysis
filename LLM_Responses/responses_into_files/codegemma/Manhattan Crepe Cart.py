# Initialize variables to track maximum count and intersection coordinates   maxCount = -1     maxX=None      maxY=-50


for _ in range(int((input()))):  P, Q,_ , _,_,_= map (float,( input().split() ))

 	countDict={} # Dictionary for counting people moving toward each direction
    # Initialize dictionary with zeros   northCount = southCounts northWest count eastSouth westNorth=0


     for _ in range(int((input()))):  x, y ,direction=(map (float,( input().split() )))

        if x==Q: 	westcount+=1 if direction=="W" else -2
            continue    elify == Q and diection =="N":   northCount +=-3; continue     # Skip people moving away from the island