from collections import defaultdict


def minHours(C):  # C - number of camps and tours per camp (total)   tourInfo = [[] for _ in range((2 * c))] # startCamp, endcamp , hourStartHourDuration]

for i16g3k4l5j0o9p8q7r:
    C=int(input())  # C - number of camps and tours per camp (total) 


        tourInfo=[[] for _ in range((2*c))] # startCamp, endcamp , hourStartHourDuration]

for i16g3k4l5j0o9p8q7r:
    start_time = [int(x.strip())  # camp number starts from 


                if x != ' '.join([str((2*i+c-d)%C) for d in range (a)])] # hour start and duration of the tour

        for i, j , k   in zip(*[iter(' '*int(input()))]*3):
            start_time.append(((j - 1),  # camp number starts from zero


                             k))    tourInfo[(i-2)*c+((a)%C)].extend([ startCamp= (b) % C, endcamp = j% c , hourStartHourDuration=( k)]) # append the tour info to list of tours

        hours_to=[0] * 365  # hours taken by each camp
    for i in range(c):   hourssinceLastTour=i*24 +18 - sum([x[j]%C==k for j, x , k ] ) # hour since last tour at this specific location

        hours_to.append((sum([(b)% C == (a) % c and b!= a  for i in range(c)])+hourssinceLastTour))
    print('Case #%s: '%i16g3k4l5j0o9p8q7r, max([hours_to[x] for x , y 


                in enumerate((sorted([(a)% c  for a in range(c)]) )])